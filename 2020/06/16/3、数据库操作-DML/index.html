<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>数据库操作-DML | SQL</title><meta name="description" content="数据库操作-DML"><meta name="keywords" content="Mysql,数据库"><meta name="author" content="JackFeng"><meta name="copyright" content="JackFeng"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="数据库操作-DML"><meta name="twitter:description" content="数据库操作-DML"><meta name="twitter:image" content="https://minesql.github.io/img/post.jpg"><meta property="og:type" content="article"><meta property="og:title" content="数据库操作-DML"><meta property="og:url" content="https://minesql.github.io/2020/06/16/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C-DML/"><meta property="og:site_name" content="SQL"><meta property="og:description" content="数据库操作-DML"><meta property="og:image" content="https://minesql.github.io/img/post.jpg"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      now = new Date();
      hour = now.getHours();
      isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://minesql.github.io/2020/06/16/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C-DML/"><link rel="prev" title="数据库操作-TCL" href="https://minesql.github.io/2020/06/16/5%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C-TCL/"><link rel="next" title="认识Mysql" href="https://minesql.github.io/2020/06/16/1%E3%80%81%E8%AE%A4%E8%AF%86Mysql/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://sqlsq.cn/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: JackFeng","link":"链接: undefined","source":"来源: SQL","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: {"text":"欢迎,帅哥,美女,青睐,本站,在此祝福,大家,身体健康,万事如意,幸福美满","fontSize":"15px"},
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: false,
  isFontAwesomeV5: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">15</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 影视</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#DML"><span class="toc-number">1.</span> <span class="toc-text">DML</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1、插入数据"><span class="toc-number">2.</span> <span class="toc-text">1、插入数据</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#形式一"><span class="toc-number">2.1.</span> <span class="toc-text">形式一</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#形式二"><span class="toc-number">2.2.</span> <span class="toc-text">形式二</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2、修改数据"><span class="toc-number">3.</span> <span class="toc-text">2、修改数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3、解决重复记录的更新"><span class="toc-number">4.</span> <span class="toc-text">3、解决重复记录的更新</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4、删除数据"><span class="toc-number">5.</span> <span class="toc-text">4、删除数据</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#方法一：DELETE"><span class="toc-number">5.1.</span> <span class="toc-text">方法一：DELETE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#方法二：TRUNCATE"><span class="toc-number">5.2.</span> <span class="toc-text">方法二：TRUNCATE</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5、数据库查询"><span class="toc-number">6.</span> <span class="toc-text">5、数据库查询</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1、基本查询语句"><span class="toc-number">6.1.</span> <span class="toc-text">5.1、基本查询语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2、模糊查询"><span class="toc-number">6.2.</span> <span class="toc-text">5.2、模糊查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#LIKE"><span class="toc-number">6.2.1.</span> <span class="toc-text">LIKE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RLIKE、REGEXP"><span class="toc-number">6.2.2.</span> <span class="toc-text">RLIKE、REGEXP</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3、存储过程"><span class="toc-number">6.3.</span> <span class="toc-text">5.3、存储过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#存储过程基本结构"><span class="toc-number">6.3.1.</span> <span class="toc-text">存储过程基本结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#终端运行存储过程"><span class="toc-number">6.3.2.</span> <span class="toc-text">终端运行存储过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4、多表查询"><span class="toc-number">6.4.</span> <span class="toc-text">5.4、多表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#内连接"><span class="toc-number">6.4.1.</span> <span class="toc-text">内连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外连接"><span class="toc-number">6.4.2.</span> <span class="toc-text">外连接</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6、锁表"><span class="toc-number">7.</span> <span class="toc-text">6、锁表</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7、MYSQL慢查询：EXPLAIN"><span class="toc-number">8.</span> <span class="toc-text">7、MYSQL慢查询：EXPLAIN</span></a></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><div class="post-bg" id="nav" style="background-image: url(/img/post.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">SQL</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 影视</span></a></li></ul></div></div></span></div><div id="post-info"><div id="post-title"><div class="posttitle">数据库操作-DML</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-06-16<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-06-16</time><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>评论数:</span><a href="/2020/06/16/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C-DML/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2020/06/16/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C-DML/" itemprop="commentCount"></span></a></div></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h1><blockquote>
<p><strong>DML（Data Manipulation Language），是通过对表中数据的插入、删除和修改等操作，实现对数据库的基本操作。</strong></p>
<p>主要用途：对数据表进行数据插入、删除、修改、排序或检索操作。</p>
<p>操纵命令：INSERT、UPDATE、DELETE</p>
<p>INSERT：把数据插入到数据表中。</p>
<p>UPDATE：修改数据记录。</p>
<p>DELETE：删除数据库中不必再继续保留的记录。</p>
</blockquote>
<h1 id="1、插入数据"><a href="#1、插入数据" class="headerlink" title="1、插入数据"></a>1、插入数据</h1><h2 id="形式一"><a href="#形式一" class="headerlink" title="形式一"></a>形式一</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE_NAME (字段名<span class="number">1</span>,字段名<span class="number">2</span>,.....) <span class="keyword">VALUES</span>(数值<span class="number">1</span>,数值<span class="number">2</span>,....);</span><br><span class="line"></span><br><span class="line">案例：</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span>(user_id,user_name,age,remove,tel,sex)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">001</span>,<span class="string">"A2Data"</span>,<span class="number">22</span>,<span class="number">0</span>,<span class="number">18511990011</span>,<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<h2 id="形式二"><a href="#形式二" class="headerlink" title="形式二"></a>形式二</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE_NAME <span class="keyword">SET</span> 字段名<span class="number">1</span> = 数值<span class="number">1</span>, 字段名<span class="number">2</span> = 数值<span class="number">2</span>,....;</span><br><span class="line"></span><br><span class="line">案例：</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> <span class="keyword">SET</span> user_id=<span class="number">001</span>,user_name=<span class="string">"A2Data"</span>,age=<span class="number">22</span>,remove=<span class="number">0</span>,tel=<span class="number">18511990011</span>,sex=<span class="number">0</span>;</span><br></pre></td></tr></table></figure>



<h1 id="2、修改数据"><a href="#2、修改数据" class="headerlink" title="2、修改数据"></a>2、修改数据</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> TABLE_NAME <span class="keyword">SET</span> 字段名<span class="number">1</span> = 新数值<span class="number">1</span>,字段名<span class="number">2</span> = 新数值<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">案例：</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">USER</span> <span class="keyword">SET</span> age = <span class="number">25</span> , sex = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>



<h1 id="3、解决重复记录的更新"><a href="#3、解决重复记录的更新" class="headerlink" title="3、解决重复记录的更新"></a>3、解决重复记录的更新</h1><p>使用<strong>on duplicate key update</strong>可以解决插入或更改重复主键，即当insert内容和原表内容存在重复记录时，执行update操作。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name1 <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> table_name2 <span class="keyword">ON</span> <span class="keyword">DUPLICATE</span> <span class="keyword">KEY</span> <span class="keyword">UPDATE</span> column_name = <span class="keyword">VALUES</span>(column_name);</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>在使用on duplicate key update时，表中必须要存在至少一个unique key或者primary key。</p>
<p>案例：<br>现有表v1和v2如下：</p>
<p><img src="/" alt="image-20200615211933034" style="zoom: 50%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200615211933034.png"><img src="/" alt="image-20200615211959140" style="zoom:50%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200615211959140.png"></p>
<p>v1表与v2表同时存在id为005的行，且name字段值不一致。</p>
<p>我们使用on duplicate key update对v1表插入v2内容：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> v1 <span class="keyword">select</span> <span class="keyword">name</span>,tel,remove <span class="keyword">from</span> v2 <span class="keyword">on</span> <span class="keyword">duplicate</span> <span class="keyword">key</span> <span class="keyword">update</span> <span class="keyword">name</span> = <span class="keyword">values</span>(<span class="keyword">name</span>);</span><br></pre></td></tr></table></figure>

<p>查看执行后的v1表内容，可以看到id为005的记录，其name字段值已修改为v2的相应记录：</p>
<img src="/" alt="image-20200615212924946" style="zoom:67%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200615212924946.png">





<h1 id="4、删除数据"><a href="#4、删除数据" class="headerlink" title="4、删除数据"></a>4、删除数据</h1><h2 id="方法一：DELETE"><a href="#方法一：DELETE" class="headerlink" title="方法一：DELETE"></a>方法一：DELETE</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> TABLE_NAME</span><br><span class="line">[<span class="keyword">WHERE</span> 子句]</span><br><span class="line">如不加<span class="keyword">WHERE</span>子句则表中数据全部删除</span><br><span class="line"></span><br><span class="line">案例：</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure>



<h2 id="方法二：TRUNCATE"><a href="#方法二：TRUNCATE" class="headerlink" title="方法二：TRUNCATE"></a>方法二：TRUNCATE</h2><p>TRUNCATE优势：作为DDL语句，比DELETE运行速度更快，且使用资源更少</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> TABLE_NAME</span><br><span class="line"></span><br><span class="line">案例：</span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure>





<h1 id="5、数据库查询"><a href="#5、数据库查询" class="headerlink" title="5、数据库查询"></a>5、数据库查询</h1><h2 id="5-1、基本查询语句"><a href="#5-1、基本查询语句" class="headerlink" title="5.1、基本查询语句"></a>5.1、基本查询语句</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> 条件语句</span><br><span class="line">[<span class="keyword">LIMIT</span> 限制行数]</span><br></pre></td></tr></table></figure>



<p>WHERE限制条件一览表：</p>
<table>
<thead>
<tr>
<th align="left">限制条件类别</th>
<th align="center">对应标识</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td align="left">比较</td>
<td align="center">&gt;、&lt;、=、&gt;=、&lt;=、&lt;&gt;</td>
<td></td>
</tr>
<tr>
<td align="left">集合</td>
<td align="center">in、not in</td>
<td>无法获取null值</td>
</tr>
<tr>
<td align="left">指定范围</td>
<td align="center">between and</td>
<td>使用时需注意其结果包含边界值</td>
</tr>
<tr>
<td align="left">空值判断</td>
<td align="center">is null、is not null</td>
<td></td>
</tr>
<tr>
<td align="left">且</td>
<td align="center">and</td>
<td></td>
</tr>
<tr>
<td align="left">或</td>
<td align="center">or</td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">案例：</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> user_id,user_name <span class="keyword">FROM</span> <span class="keyword">user</span></span><br><span class="line"><span class="keyword">WHERE</span> age &gt; <span class="number">20</span> <span class="keyword">and</span> tel <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<img src="/" alt="image-20200612100312585" style="zoom: 50%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200612100312585.png">

<p>别名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">column_name AS 别名</span><br><span class="line"></span><br><span class="line">table_name AS 别名</span><br></pre></td></tr></table></figure>

<p><em>注:</em>WHERE子句中不可使用别名</p>
<p>GROUP BY：用于对查询结果进行数据分组</p>
<p>HAVING：用于对分组后的结果进行统计，其后可以跟聚合函数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">案例：</span><br><span class="line">user表记录了用户所在部门user_dept，筛选出部门平均年龄大于25的结果。</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> user_dept,<span class="keyword">AVG</span>(age) <span class="keyword">as</span> <span class="string">'年龄'</span> <span class="keyword">FROM</span> <span class="string">`user`</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> user_dept</span><br><span class="line"><span class="keyword">HAVING</span> <span class="keyword">AVG</span>(age)&gt;<span class="number">25</span>;</span><br></pre></td></tr></table></figure>

<p><img src="/" alt="image-20200612100428397" class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200612100428397.png"></p>
<p>HAVING语句用于对分组后的结果进行统计</p>
<p>ORDER BY：对查询结果进行排序,默认为ASC升序，DESC为降序</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">案例：</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> user_id,user_name <span class="keyword">FROM</span> <span class="string">`user`</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> user_name ;</span><br></pre></td></tr></table></figure>

<img src="/" alt="image-20200612100524629" style="zoom:50%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200612100524629.png">



<p>DISTINCT：取消重复的结果</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">案例：</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> user_dept <span class="keyword">FROM</span> <span class="string">`user`</span>;</span><br></pre></td></tr></table></figure>

<img src="/" alt="image-20200612100558579" style="zoom:50%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200612100558579.png">

<h2 id="5-2、模糊查询"><a href="#5-2、模糊查询" class="headerlink" title="5.2、模糊查询"></a>5.2、模糊查询</h2><h3 id="LIKE"><a href="#LIKE" class="headerlink" title="LIKE"></a>LIKE</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">LIKE</span> 模式字符串</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>通配符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>%</td>
<td>匹配任意长度（0或多个）字符串，不能匹配空值</td>
</tr>
<tr>
<td>_</td>
<td>匹配任意单个字符串，_表示1个长度</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">案例：</span><br><span class="line">查询user表中所有姓名为A开头的人员信息。</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span></span><br><span class="line"><span class="keyword">WHERE</span> user_name <span class="keyword">like</span> <span class="string">'A%'</span>;</span><br></pre></td></tr></table></figure>

<img src="/" alt="image-20200612100631405" style="zoom: 67%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200612100631405.png">



<h3 id="RLIKE、REGEXP"><a href="#RLIKE、REGEXP" class="headerlink" title="RLIKE、REGEXP"></a>RLIKE、REGEXP</h3><p>这两个主要用于在MYSQL中进行正则表达式的书写。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name REGEXP/<span class="keyword">RLIKE</span> 模式字符串;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>通配符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>匹配任意单个字符</td>
</tr>
<tr>
<td>*</td>
<td>匹配0个或多个前一个得到的字符</td>
</tr>
<tr>
<td>^</td>
<td>匹配开头，如^s匹配以s或者S开头的字符串。</td>
</tr>
<tr>
<td>$</td>
<td>匹配结尾，如s$匹配以s结尾的字符串。</td>
</tr>
<tr>
<td>{n}</td>
<td>匹配前一个字符反复n次。</td>
</tr>
<tr>
<td>｜</td>
<td>多个条件间的“或”连接</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">案例：</span><br><span class="line">查询user表中姓名存在字段bb的人员。</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> user_name regexp <span class="string">'b&#123;2&#125;'</span>;</span><br><span class="line"></span><br><span class="line">查询user表中姓名为n结尾的人员。</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> user_name <span class="keyword">rlike</span> <span class="string">'n$'</span>;</span><br><span class="line"></span><br><span class="line">查询user表中姓名存在an字段的人员。</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> user_name <span class="keyword">rlike</span> <span class="string">'an'</span>;</span><br></pre></td></tr></table></figure>

<img src="/" alt="image-20200615223316834" style="zoom: 67%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200615223316834.png">





<h2 id="5-3、存储过程"><a href="#5-3、存储过程" class="headerlink" title="5.3、存储过程"></a>5.3、存储过程</h2><h3 id="存储过程基本结构"><a href="#存储过程基本结构" class="headerlink" title="存储过程基本结构"></a>存储过程基本结构</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">构造存储过程：</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 存储体名称(<span class="keyword">IN</span>/<span class="keyword">OUT</span> 参数名 参数类型)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">存储内容</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line">调用存储过程：</span><br><span class="line"><span class="keyword">CALL</span> 存储体名称(参数)</span><br></pre></td></tr></table></figure>



<h3 id="终端运行存储过程"><a href="#终端运行存储过程" class="headerlink" title="终端运行存储过程"></a>终端运行存储过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">案例：</span><br><span class="line">构造存储体u1，筛选所有部门为R&amp;D的员工。</span><br><span class="line"></span><br><span class="line">首先将MYSQL默认结束符进行修改：</span><br><span class="line">DELIMITER //</span><br><span class="line"></span><br><span class="line">构造存储过程：</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> U1()</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> user_dept = <span class="string">'R&amp;D'</span>;</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line">//</span><br><span class="line"></span><br><span class="line">调用存储体：</span><br><span class="line"><span class="keyword">CALL</span> u1()//</span><br></pre></td></tr></table></figure>



<p><img src="/" alt="image-20200612095224202" class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200612095224202.png"></p>
<h2 id="5-4、多表查询"><a href="#5-4、多表查询" class="headerlink" title="5.4、多表查询"></a>5.4、多表查询</h2><h3 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> TABLE_A <span class="keyword">INNER</span> <span class="keyword">JOIN</span> TABLE_B </span><br><span class="line"><span class="keyword">ON</span> TABLE_A.COLUMN 比较运算符 TABLE_B.COLUMN;</span><br></pre></td></tr></table></figure>

<p>内连接用于比较并返回满足连接条件的数据行，结果取交集。</p>
<p>inner join示意图：</p>
<img src="/" alt="image-20200616222620841" style="zoom: 33%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200616222620841.png">

<p><strong>注意：</strong>如果两边的表行数不一致，可能会出现丢失数据。</p>
<h3 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> TABLE_A <span class="keyword">LEFT</span>|<span class="keyword">RIGHT</span>|<span class="keyword">FULL</span> <span class="keyword">JOIN</span> TABLE_B</span><br><span class="line"><span class="keyword">ON</span> TABLE_A.COLUMN 比较运算符 TABLE_B.COLUMN;</span><br></pre></td></tr></table></figure>

<p>外连接的两个表有主从之分，主表全部保存，从表适配保存。</p>
<p>full outer join示意图：</p>
<img src="/" alt="image-20200616223251275" style="zoom: 50%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200616223251275.png">



<p>left/right outer join示意图：</p>
<img src="/" alt="image-20200616223435500" style="zoom:50%;" / class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200616223435500.png">



<h1 id="6、锁表"><a href="#6、锁表" class="headerlink" title="6、锁表"></a>6、锁表</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">锁表；</span><br><span class="line"><span class="keyword">LOCK</span> <span class="keyword">TABLES</span> table_name LOCK_TYPE</span><br><span class="line"></span><br><span class="line">解锁：</span><br><span class="line"><span class="keyword">UNLOCK</span> <span class="keyword">TABLES</span>;</span><br></pre></td></tr></table></figure>

<p><img src="/" alt="image-20200616123547201" class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200616123547201.png"></p>
<p>Lock_type包含read和write等。</p>
<p>锁为read类型的表，可读但不可写；其他会话对该表可读，但写入需要等到解锁后：</p>
<p><img src="/" alt="image-20200616123953421" class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200616123953421.png"></p>
<p>锁为write类型的表，可读也可写；但其他会话对该表的读或写需要等到解锁以后：</p>
<p><img src="/" alt="image-20200616124427459" class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200616124427459.png"></p>
<h1 id="7、MYSQL慢查询：EXPLAIN"><a href="#7、MYSQL慢查询：EXPLAIN" class="headerlink" title="7、MYSQL慢查询：EXPLAIN"></a>7、MYSQL慢查询：EXPLAIN</h1><p>explain语句用于分析MYSQL的查询性能，可以显示MySQL如何使用索引等来处理select语句以及连接表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">用<span class="keyword">explain</span>查看查询是否使用索引：</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> table_name <span class="keyword">WHERE</span> 查询条件；</span><br><span class="line"></span><br><span class="line">案例：</span><br><span class="line">对表Sheet1建立索引i1后，用<span class="keyword">explain</span>查看任意查询情况：</span><br><span class="line"><span class="keyword">explain</span> <span class="keyword">select</span> * <span class="keyword">from</span> Sheet1 <span class="keyword">where</span> <span class="built_in">number</span> = <span class="number">1601</span>;</span><br></pre></td></tr></table></figure>

<p>explain查询结果type为ref，即使用了索引查询，而非全表遍历查询all；所使用的索引(possible keys/key)为i1：</p>
<p><img src="/" alt="image-20200616213133759" class="lazyload" data-src="https://gitee.com/sqlsq_admin/cdn/raw/master/image-20200616213133759.png"></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">JackFeng</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://minesql.github.io/2020/06/16/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C-DML/">https://minesql.github.io/2020/06/16/3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C-DML/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://minesql.github.io" target="_blank">SQL</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Mysql/">Mysql    </a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库    </a></div><div class="post_share"><div class="social-share" data-image="/img/post.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/06/16/5%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C-TCL/"><img class="prev_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数据库操作-TCL</div></div></a></div><div class="next-post pull_right"><a href="/2020/06/16/1%E3%80%81%E8%AE%A4%E8%AF%86Mysql/"><img class="next_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">认识Mysql</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/06/16/1、认识Mysql/" title="认识Mysql"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-16</div><div class="relatedPosts_title">认识Mysql</div></div></a></div><div class="relatedPosts_item"><a href="/2020/06/16/2、数据库操作-DDL/" title="数据库操作-DDL"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-16</div><div class="relatedPosts_title">数据库操作-DDL</div></div></a></div><div class="relatedPosts_item"><a href="/2020/06/16/4、数据库操作-DCL/" title="数据库操作-DCL"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-16</div><div class="relatedPosts_title">数据库操作-DCL</div></div></a></div><div class="relatedPosts_item"><a href="/2020/06/16/5、数据库操作-TCL/" title="数据库操作-TCL"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-16</div><div class="relatedPosts_title">数据库操作-TCL</div></div></a></div><div class="relatedPosts_item"><a href="/2020/05/06/DBeaver安装/" title="DBeaver安装"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-06</div><div class="relatedPosts_title">DBeaver安装</div></div></a></div><div class="relatedPosts_item"><a href="/2020/07/07/Mysql进阶/" title="Mysql进阶"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-07-07</div><div class="relatedPosts_title">Mysql进阶</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify: false,
  verify: true,
  appId: 'i1I90mFU8urYjNXgiqPT05Jt-gzGzoHsz',
  appKey: 'GXgwCzMM0g2CnM8x0WCM7fPQ',
  placeholder: 'Please leave your footprints',
  avatar: 'monsterid',
  meta: guest_info,
  pageSize: '10',
  lang: 'zh-cn',
  recordIP: false,
  serverURLs: ''
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By JackFeng</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://minesql.github.io/">Blog</a>!</div><div class="icp"><a href="http://beian.miit.gov.cn" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>京ICP备20010978号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">简</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/third-party/ClickShowText.js"></script><script>if (document.getElementsByClassName('mermaid').length) {
  loadScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js',function () {
    mermaid.initialize({
      theme: 'default',
  })
})
}</script></body></html>